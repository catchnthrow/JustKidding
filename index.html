<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Fun for Kids - Addition Practice</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
            text-align: center;
        }

        h1 {
            color: #2196f3;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
            margin-bottom: 30px;
        }

        .problem-display {
            background: #f8f9fa;
            border: 3px solid #2196f3;
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            font-size: 3em;
            font-weight: bold;
            color: #333;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .input-section {
            margin: 30px 0;
        }

        .answer-input {
            font-size: 2.5em;
            padding: 15px 25px;
            border: 3px solid #4caf50;
            border-radius: 15px;
            text-align: center;
            width: 150px;
            margin: 0 20px;
            font-family: 'Comic Sans MS', cursive;
        }

        .answer-input:focus {
            outline: none;
            border-color: #2196f3;
            box-shadow: 0 0 15px rgba(33, 150, 243, 0.3);
        }

        .btn {
            font-size: 1.5em;
            padding: 15px 30px;
            margin: 10px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-family: 'Comic Sans MS', cursive;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-check {
            background: #4caf50;
            color: white;
        }

        .btn-check:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .btn-next {
            background: #2196f3;
            color: white;
        }

        .btn-next:hover {
            background: #1976d2;
            transform: translateY(-2px);
        }

        .btn-hint {
            background: #ff9800;
            color: white;
        }

        .btn-hint:hover {
            background: #f57c00;
            transform: translateY(-2px);
        }

        .feedback {
            font-size: 2em;
            font-weight: bold;
            margin: 20px 0;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .correct {
            color: #4caf50;
        }

        .incorrect {
            color: #f44336;
        }

        .progress {
            margin: 20px 0;
            font-size: 1.2em;
            color: #666;
        }

        .progress-bar {
            background: #e0e0e0;
            border-radius: 10px;
            height: 20px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4caf50, #2196f3);
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: #f5f5f5;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #e0e0e0;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #2196f3;
        }

        .stat-label {
            color: #666;
            font-size: 1em;
            margin-top: 5px;
        }

        .hint-display {
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-size: 1.2em;
            color: #e65100;
            display: none;
        }

        .celebration {
            display: none;
            font-size: 1.5em;
            color: #4caf50;
            margin: 20px 0;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .bounce {
            animation: bounce 1s;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¯ Math Addition Fun!</h1>
        <p class="subtitle">Let's practice adding numbers together!</p>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="correct-count">0</div>
                <div class="stat-label">Correct Answers</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="total-problems">0</div>
                <div class="stat-label">Problems Solved</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="current-level">1</div>
                <div class="stat-label">Current Level</div>
            </div>
        </div>

        <div class="progress">
            <div>Progress: <span id="progress-text">0/100</span></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
            </div>
        </div>

        <div class="problem-display" id="problem-display">
            Click "Next Problem" to start!
        </div>

        <div class="input-section">
            <input type="number" class="answer-input" id="answer-input" placeholder="?" min="0" max="18">
        </div>

        <div class="hint-display" id="hint-display"></div>

        <div class="feedback" id="feedback"></div>

        <div class="celebration" id="celebration">
            ðŸŽ‰ Fantastic! You're getting faster! ðŸŽ‰
        </div>

        <div>
            <button class="btn btn-check" id="check-btn">Check Answer</button>
            <button class="btn btn-next" id="next-btn">Next Problem</button>
            <button class="btn btn-hint" id="hint-btn">Show Hint</button>
        </div>
    </div>

    <script>
        class MathPractice {
            constructor() {
                this.problems = this.generateAllProblems();
                this.currentProblemIndex = 0;
                this.correctCount = 0;
                this.totalProblems = 0;
                this.currentLevel = 1;
                this.showingHint = false;
                
                this.initializeElements();
                this.setupEventListeners();
                this.shuffleProblems();
                this.showNextProblem();
            }

            generateAllProblems() {
                const problems = [];
                
                // Generate all combinations of single digit addition
                // Starting with easier problems (smaller numbers first)
                for (let sum = 0; sum <= 18; sum++) {
                    for (let a = 0; a <= 9; a++) {
                        for (let b = 0; b <= 9; b++) {
                            if (a + b === sum) {
                                problems.push({ a, b, answer: sum });
                                // Add the swapped version if it's different
                                if (a !== b) {
                                    problems.push({ a: b, b: a, answer: sum });
                                }
                            }
                        }
                    }
                }
                
                return problems;
            }

            shuffleProblems() {
                // Sort by difficulty (sum) first, then shuffle within each difficulty level
                this.problems.sort((a, b) => {
                    const diffA = a.a + a.b;
                    const diffB = b.a + b.b;
                    if (diffA !== diffB) return diffA - diffB;
                    return Math.random() - 0.5;
                });
            }

            initializeElements() {
                this.problemDisplay = document.getElementById('problem-display');
                this.answerInput = document.getElementById('answer-input');
                this.feedback = document.getElementById('feedback');
                this.checkBtn = document.getElementById('check-btn');
                this.nextBtn = document.getElementById('next-btn');
                this.hintBtn = document.getElementById('hint-btn');
                this.hintDisplay = document.getElementById('hint-display');
                this.celebration = document.getElementById('celebration');
                this.correctCountEl = document.getElementById('correct-count');
                this.totalProblemsEl = document.getElementById('total-problems');
                this.currentLevelEl = document.getElementById('current-level');
                this.progressText = document.getElementById('progress-text');
                this.progressFill = document.getElementById('progress-fill');
            }

            setupEventListeners() {
                this.checkBtn.addEventListener('click', () => this.checkAnswer());
                this.nextBtn.addEventListener('click', () => this.showNextProblem());
                this.hintBtn.addEventListener('click', () => this.showHint());
                
                this.answerInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.checkAnswer();
                    }
                });

                this.answerInput.addEventListener('input', () => {
                    this.feedback.textContent = '';
                    this.hideHint();
                });
            }

            showNextProblem() {
                if (this.currentProblemIndex >= this.problems.length) {
                    this.showCompletion();
                    return;
                }

                const problem = this.problems[this.currentProblemIndex];
                this.problemDisplay.textContent = `${problem.a} + ${problem.b} = ?`;
                this.answerInput.value = '';
                this.answerInput.focus();
                this.feedback.textContent = '';
                this.hideHint();
                
                // Update level based on problem difficulty
                const sum = problem.a + problem.b;
                this.currentLevel = Math.floor(sum / 3) + 1;
                this.updateStats();
            }

            checkAnswer() {
                const userAnswer = parseInt(this.answerInput.value);
                const problem = this.problems[this.currentProblemIndex];
                
                if (isNaN(userAnswer)) {
                    this.feedback.textContent = 'Please enter a number!';
                    this.feedback.className = 'feedback incorrect';
                    return;
                }

                this.totalProblems++;
                
                if (userAnswer === problem.answer) {
                    this.correctCount++;
                    this.feedback.textContent = 'ðŸŒŸ Excellent! That\'s correct! ðŸŒŸ';
                    this.feedback.className = 'feedback correct';
                    this.problemDisplay.classList.add('bounce');
                    
                    setTimeout(() => {
                        this.problemDisplay.classList.remove('bounce');
                    }, 1000);

                    // Show celebration every 10 correct answers
                    if (this.correctCount % 10 === 0) {
                        this.showCelebration();
                    }
                } else {
                    this.feedback.textContent = `Not quite right. The answer is ${problem.answer}. Let's try the next one!`;
                    this.feedback.className = 'feedback incorrect';
                }

                this.currentProblemIndex++;
                this.updateStats();
                
                setTimeout(() => {
                    this.showNextProblem();
                }, 2000);
            }

            showHint() {
                const problem = this.problems[this.currentProblemIndex];
                const a = problem.a;
                const b = problem.b;
                
                let hintText = `Let's count together: `;
                
                // Create visual counting hint
                if (a <= 5 && b <= 5) {
                    hintText += 'ðŸŸ¡'.repeat(a) + ' + ' + 'ðŸ”µ'.repeat(b) + ` = ${a + b}`;
                } else {
                    hintText += `Start with ${a}, then count up ${b} more: `;
                    for (let i = 1; i <= b; i++) {
                        hintText += `${a + i}${i < b ? ', ' : ''}`;
                    }
                }
                
                this.hintDisplay.textContent = hintText;
                this.hintDisplay.style.display = 'block';
                this.showingHint = true;
            }

            hideHint() {
                this.hintDisplay.style.display = 'none';
                this.showingHint = false;
            }

            showCelebration() {
                this.celebration.style.display = 'block';
                setTimeout(() => {
                    this.celebration.style.display = 'none';
                }, 3000);
            }

            updateStats() {
                this.correctCountEl.textContent = this.correctCount;
                this.totalProblemsEl.textContent = this.totalProblems;
                this.currentLevelEl.textContent = this.currentLevel;
                
                const progress = Math.min((this.currentProblemIndex / this.problems.length) * 100, 100);
                this.progressText.textContent = `${this.currentProblemIndex}/${this.problems.length}`;
                this.progressFill.style.width = `${progress}%`;
            }

            showCompletion() {
                this.problemDisplay.innerHTML = `
                    ðŸŽ‰ Congratulations! ðŸŽ‰<br>
                    You've completed all addition problems!<br>
                    <small>You got ${this.correctCount} out of ${this.totalProblems} correct!</small>
                `;
                this.answerInput.style.display = 'none';
                this.checkBtn.style.display = 'none';
                this.nextBtn.textContent = 'Start Over';
                this.nextBtn.onclick = () => location.reload();
            }
        }

        // Start the math practice when the page loads
        window.addEventListener('load', () => {
            new MathPractice();
        });
    </script>
</body>
</html>
