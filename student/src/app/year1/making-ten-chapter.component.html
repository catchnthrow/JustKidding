<div class="container">
  <div class="header">
    <button class="back-btn" routerLink="/">🏠 Home</button>
    <h1>🔟 Making 10!</h1>
    <p class="subtitle">Practice making sums that equal 10!</p>
  </div>

  <!-- Question Section -->
  <div class="problem-display" *ngIf="!showSummary">
    <div *ngIf="!showQuestion" class="start-message">
      Click "Start!" to begin learning how to make 10!
    </div>
    <div *ngIf="showQuestion && currentProblem" class="question">
      <span class="math-problem">{{ currentProblem!.a }} + {{ currentProblem!.b }} = ?</span>
    </div>
  </div>

  <!-- Answer Options -->
  <div class="options-section" *ngIf="showQuestion && !showSummary">
    <button 
      *ngFor="let option of options"
      class="option-btn"
      [class.correct]="isCorrectAnswer(option)"
      [class.wrong]="isWrongAnswer(option)"
      [disabled]="answered"
      (click)="selectOption(option)">
      {{ option }}
      <span *ngIf="isCorrectAnswer(option)" class="feedback-icon">✅</span>
      <span *ngIf="isWrongAnswer(option)" class="feedback-icon">❌</span>
    </button>
  </div>

  <!-- Progress -->
  <div class="progress-section" *ngIf="showQuestion && !showSummary">
    <p>Question {{ currentProblemIndex + 1 }} of {{ questionsPerChapter }}</p>
  </div>

  <!-- Summary Section -->
  <div class="summary" *ngIf="showSummary">
    <h2>🎉 Chapter Complete!</h2>
    <div [innerHTML]="celebrationHtml"></div>
    <p class="summary-stats">
      You got {{ correctCount }} out of {{ questionsPerChapter }} correct!
    </p>
    <p class="summary-percentage">
      That's {{ (correctCount / questionsPerChapter * 100) | number:'1.0-0' }}%!
    </p>
    <div class="summary-buttons">
      <button class="btn" (click)="resetQuiz()">Practice Again</button>
      <button class="btn" routerLink="/">Back to Home</button>
    </div>
  </div>
</div>
